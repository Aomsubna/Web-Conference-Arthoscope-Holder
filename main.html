<!DOCTYPE html>

{% load static %}

<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Arthoscope Conference</title>
	<link rel="stylesheet" type="text/css" href="{% static 'css/index2.css' %}">
	<!-- <script type="text/javascript"> 
		function display_c(){
		var refresh=1000; // Refresh rate in milli seconds
		mytime=setTimeout('display_ct()',refresh)
		}
		
		function display_ct() {
		// while (port.readable) {
    	// 	const reader = port.readable.getReader();
    	// 	try {
      	// 		while (true) {
        // 			const { value, done } = await reader.read();
        // 			if (done) {
        //   				// |reader| has been canceled.
        //   				break;
        // 			}
        // 			document.getElementById("ct").innerHTML = value;
      	// 		}
    	// } catch (error) {
      	// 	console.log("Reading Fail");
    	// } finally {
      	// 	reader.releaseLock();
    	// }
  		// }			
		var x = new Date()
		document.getElementById('ct').innerHTML = x;
		display_c();
		 }
	</script> -->
	<script>
		src = 'https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js'
	</script>
	<!-- <script>
		var queryString = decodeURIComponent(window.location.search);
		document.write(queryString);	
		console.log(queryString);
	</script>  -->
</head>
<body>
	<h3 id="label-username">USERNAME</h3>
	<div>
		<input id="username"><button id="btn-join">Join Room</button>
	</div>
	<div class="grid-container">
		<!-- for grid layout
		assign class video-grad-layout -->
		<div class="grid-item item1">
			<div id="video-container">
				<div><video id="local-video" style="float: center;" autoplay playsinline></video></div>
				<!-- <div><video id="local-video" style="float: left;" autoplay playsinline></video></div>
				<div><video id="local-video" style="float: left;" autoplay playsinline></video></div> -->
			</div>
		</div> 
		<div class="grid-item item2">
			<div id="video-container2"></div>
		</div> 
		<div class="grid-item item3">
			<div id="chat">
				<h3> CHAT </h3>
				<div id="messages">
					<ul id="message-list"></ul>
				</div>
				<input id="msg"><button id="btn-send-msg">send</button>
				<span id="result"></span>
				<script>
					document.getElementById("result").innerHTML = localStorage.getItem("encvalue");
				</script>
			</div> 
		</div> 
  		<div class="grid-item item4">
			<button id="btn-toggle-audio" class="btn btn-dark">Audio Mute</button>
			<button id="btn-toggle-video" class="btn btn-dark">Video Off</button>
			<button id="btn-share-screen">Share Screen</button>
			<button id="btn-record-screen">Record Screen</button>
			<button class="view-button" id="share-file-button">Share File</button>
			<div class="encoderData">
				<p>Encoder 1:<span id="enc1"></span></p>
				<p>Encoder 2:<span id="enc2"></span></p>
				<p>Encoder 3:<span id="enc3"></span></p>
				<p>Encoder 4:<span id="enc4"></span></p>
				<p>Encoder 5:<span id="enc5"></span></p>
				<p>Encoder 6:<span id="enc6"></span></p>
				<p>Encoder 7:<span id="enc7"></span></p>
			</div>
			<div id="select-file-dialog" style="display: none;">
				<div id="dialog-content">
					<div id="select-file">
					<div id="label">Select a file:</div>
					<input type="file" id="select-file-input">
					</div>
					<div id="dialog-footer">
					<button id="ok-button" disabled>Ok</button>
					<button id="cancel-button" class="cancel-button">Cancel</button>
					</div>
				</div>
			</div>
		</div>
	</div>
    {% block content %}
    {% endblock %}
</body>
</html>